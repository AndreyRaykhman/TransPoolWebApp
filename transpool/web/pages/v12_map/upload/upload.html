<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="upload.scss">
    <script type="text/javascript" src="../../../jquery-3.5.1.min.js"></script>
    <script type="text/javascript" language="javascript">
        // let's start the jQuery while I wait.
        // step 1: onload - capture the submit event on the form.
        $(function() { // onload...do
            $("#uploadForm").submit(function() {

                var file1 = this[0].files[0];

                var formData = new FormData();
                formData.append("file1", file1);


                $.ajax({
                    method:'POST',
                    data: formData,
                    url: this.action,
                    processData: false, // Don't process the files
                    contentType: false, // Set content type to false as jQuery will tell the server its a query string request
                    timeout: 4000,
                    error: function(e) {
                        console.error("Failed to submit");
                        $("#result").text("Failed to get result from server " + e);
                    },
                    success: function(r) {
                        // $("#result").text(r);
                    }
                });

                // return value of the submit operation
                // by default - we'll always return false so it doesn't redirect the user.
                return false;
            })
        })
    </script>
</head>
<body>
<div class="frame">
    <div class="center">
        <div class="bar"></div>
        <div class="title">Drop file to upload</div>
        <div class="dropzone">
            <div class="content">
                <form id="uploadForm" action="/transpool_war_exploded/map" enctype="multipart/form-data" method="POST">
                    <input type="file" name="file1"><br>
                    <input type="Submit" value="Upload File"><br>
                </form>
                <div id="result">
                </div>
                <img src="https://100dayscss.com/codepen/upload.svg" class="upload">
                <span class="filename"></span>
                <input type="file" class="input">
            </div>
        </div>
        <img src="https://100dayscss.com/codepen/syncing.svg" class="syncing">
        <img src="https://100dayscss.com/codepen/checkmark.svg" class="done">
        <div class="upload-btn">Upload file</div>
    </div>
</div>


<script src="upload.js" type="text/javascript"></script>
</body>
</html>